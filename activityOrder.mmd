flowchart TD
    Start([Start])

    CheckCustomer{Customer exists?}
    FailCustomer[Error meesage: No customer found]

    VerifyPass{Password correct?}
    CartEmpty{Cart empty?}
    ComputeTotal[Calculate total price\nApply discounts]
    CheckBalance{Balance sufficient?}

    Deduct[Deduct balance\nCreate order\nUpdate stock\nUpdate status]
    Feedback[Show success message]

    FailPass[Invalid password]
    FailCart[Cart is empty]
    FailBalance[Insufficient balance]

    End([End])

    Start --> CheckCustomer
    CheckCustomer -->|No| FailCustomer --> End
    CheckCustomer -->|Yes| VerifyPass

    VerifyPass -->|No| FailPass --> End
    VerifyPass -->|Yes| CartEmpty

    CartEmpty -->|Yes| FailCart --> End
    CartEmpty -->|No| ComputeTotal --> CheckBalance

    CheckBalance -->|No| FailBalance --> End
    CheckBalance -->|Yes| Deduct --> Feedback --> End
